<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>index.private.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Counter.html">Counter</a><ul class='methods'><li data-type='method'><a href="Counter.html#diff">diff</a></li><li data-type='method'><a href="Counter.html#start">start</a></li><li data-type='method'><a href="Counter.html#stop">stop</a></li></ul></li><li><a href="CurrentPlayer.html">CurrentPlayer</a><ul class='methods'><li data-type='method'><a href="CurrentPlayer.html#addScore">addScore</a></li></ul></li><li><a href="FullScreen.html">FullScreen</a><ul class='methods'><li data-type='method'><a href="FullScreen.html#enter">enter</a></li><li data-type='method'><a href="FullScreen.html#exit">exit</a></li></ul></li><li><a href="Game.html">Game</a><ul class='methods'><li data-type='method'><a href="Game.html#addImage">addImage</a></li><li data-type='method'><a href="Game.html#closeCard">closeCard</a></li><li data-type='method'><a href="Game.html#drawImageOnCanvas">drawImageOnCanvas</a></li><li data-type='method'><a href="Game.html#nextLevel">nextLevel</a></li><li data-type='method'><a href="Game.html#openCard">openCard</a></li><li data-type='method'><a href="Game.html#prepare">prepare</a></li></ul></li><li><a href="Localization.html">Localization</a><ul class='methods'><li data-type='method'><a href="Localization.html#message">message</a></li><li data-type='method'><a href="Localization.html#sample">sample</a></li><li data-type='method'><a href="Localization.html#update">update</a></li></ul></li><li><a href="MemoryCanvaslist.html">MemoryCanvaslist</a><ul class='methods'><li data-type='method'><a href="MemoryCanvaslist.html#addCanvas">addCanvas</a></li><li data-type='method'><a href="MemoryCanvaslist.html#randomPair">randomPair</a></li></ul></li><li><a href="MemoryImageList.html">MemoryImageList</a><ul class='methods'><li data-type='method'><a href="MemoryImageList.html#random">random</a></li></ul></li><li><a href="MemoryPairsList.html">MemoryPairsList</a><ul class='methods'><li data-type='method'><a href="MemoryPairsList.html#arePairs">arePairs</a></li><li data-type='method'><a href="MemoryPairsList.html#checkMark">checkMark</a></li><li data-type='method'><a href="MemoryPairsList.html#getImage">getImage</a></li><li data-type='method'><a href="MemoryPairsList.html#hasPair">hasPair</a></li></ul></li><li><a href="MiniMemory.html">MiniMemory</a><ul class='methods'><li data-type='method'><a href="MiniMemory.html#adoptedCallback">adoptedCallback</a></li><li data-type='method'><a href="MiniMemory.html#attributeChangedCallback">attributeChangedCallback</a></li><li data-type='method'><a href="MiniMemory.html#connectedCallback">connectedCallback</a></li><li data-type='method'><a href="MiniMemory.html#disconnectedCallback">disconnectedCallback</a></li><li data-type='method'><a href="MiniMemory.html#myAttributes">myAttributes</a></li><li data-type='method'><a href="MiniMemory.html#prepareMatrix">prepareMatrix</a></li><li data-type='method'><a href="MiniMemory.html#render">render</a></li><li data-type='method'><a href="MiniMemory.html#reset">reset</a></li></ul></li><li><a href="PrivateIndex.html">PrivateIndex</a><ul class='methods'><li data-type='method'><a href="PrivateIndex.html#createTile">createTile</a></li><li data-type='method'><a href="PrivateIndex.html#getFreeId">getFreeId</a></li><li data-type='method'><a href="PrivateIndex.html#getNewImage">getNewImage</a></li><li data-type='method'><a href="PrivateIndex.html#getOddMidIndex">getOddMidIndex</a></li><li data-type='method'><a href="PrivateIndex.html#limitsExceeded">limitsExceeded</a></li><li data-type='method'><a href="PrivateIndex.html#picsum">picsum</a></li><li data-type='method'><a href="PrivateIndex.html#reset">reset</a></li></ul></li><li><a href="Scores.html">Scores</a><ul class='methods'><li data-type='method'><a href="Scores.html#addPlayer">addPlayer</a></li></ul></li><li><a href="Settings.html">Settings</a><ul class='methods'><li data-type='method'><a href="Settings.html#enableApplyButton">enableApplyButton</a></li><li data-type='method'><a href="Settings.html#hide">hide</a></li><li data-type='method'><a href="Settings.html#reset">reset</a></li><li data-type='method'><a href="Settings.html#show">show</a></li><li data-type='method'><a href="Settings.html#updateChildren">updateChildren</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#excludedImages">excludedImages</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">index.private.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Holds list of Images those returs 404
 * to avoid try to load again
 */
const excludedImages = [];
/**
 *
 * @class
 */
export class PrivateIndex {
  /**
   *
   * @param {{}} owner @namespace MiniMemory
   */
  constructor(owner) {
    this.owner = owner;
  }
  /**
   * Creates picsum image patterm
   * @param { integer} w
   * @param {integer} h
   * @return {string} URL
   */
  picsum(w, h) {
    return `https://picsum.photos/${w}/${h}?image=${this.getFreeId()}`;
  }

  /**
   * if total number of images are not even, then one canvas is
   * not required. In this case place this in the middle of the layout
   * @param {array} matrix
   * @return {integer} index of the mid-element otherwise -1
   */
  getOddMidIndex(matrix) {
    const [col, row] = matrix;
    return (col * row) % 2 === 1 ? (col * row - 1) / 2 : -1;
  }
  /**
   * Returned number should not be in the excludedImages array
   * Save namber in to excludedImages to avoid it to be choosen again
   * @return {integer} random Integer between 0 - 1000
   */
  getFreeId() {
    let rnd = Math.floor(Math.random() * 1000);
    while (excludedImages.filter((ex) => ex === rnd).length > 0) {
      rnd = Math.floor(Math.random() * 1000);
    }
    excludedImages.push(rnd);
    return rnd;
  }

  /**
   * Resets all parameters to enable a clean restart/render
   */
  reset() {
    this.rendered = false;
    this.images = [];
    this.tiles = [];
    this.layers = {
      loading: {},
    };
  }
  /**
   * Creates a Tile object
   * @param {integer} index
   * @return {{}} Tile object
   */
  createTile(index) {
    const tile = document.createElement('div');
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    ctx.save();
    tile.classList.add('tile');
    canvas.setAttribute('index', index);
    tile.appendChild(canvas);
    return {
      tile,
      canvas,
    };
  }
  /**
   * checks if columns and rows are in defined range
   * @param {array} dim
   * @return {boolean} true on exceed
   */
  limitsExceeded(dim) {
    let hasError = false;
    dim.forEach((e) => {
      e &lt; 2 || e > 10 ? (hasError = true) : false;
    });
    return hasError;
  }
  /**
   * Creates and img element and assigns events
   * @param {function} load
   * @param {function} error
   * @return {HTMLImageElement}
   */
  getNewImage(load, error) {
    const img = document.createElement('img');
    img.addEventListener('load', load);
    img.addEventListener('error', error, false);
    return img;
  }
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Jan 20 2019 23:39:20 GMT+0100 (CET) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>


</body>
</html>
